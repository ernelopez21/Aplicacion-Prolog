<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="tau-prolog.js"></script>
    <title>Document</title>
</head>
<body>
    <script >
        var session = pl.create();
        var parsed = session.consult(":- use_module(library(lists)).fruit(apple). fruit(pear). fruit(banana).fruits_in(Xs, X) :- member(X, Xs), fruit(X)."); 
        if( parsed !== true ) {
            console.log( parsed ); // throw(error(syntax_error(line(8), column(1), found(fruits_in), cause('. or expression expected'))))
        }
        var parsed = session.query("fruits_in([carrot, apple, banana, broccoli], X)."); // true
        
        var callback = console.log;
        session.answer( callback ); // {X/apple}
        session.answer( callback ); // {X/banana}
        session.answer( callback ); // false
        
        var callback = function( answer ) { console.log( pl.format_answer( answer ) ); };
        session.answer( callback ); // X = apple ;
        session.answer( callback ); // X = banana ;
        session.answer( callback ); // false.
        
    </script>
</body>
</html>